<!-- frontend/src/app/app.html - Updated with cart navigation -->
<nav class="navbar">
  <div class="nav-container">
    <div class="nav-logo">
      <a routerLink="/home" (click)="closeMenu()">🍞 BakeHouse</a>
    </div>

    <button class="nav-toggle" (click)="toggleMenu()" [class.active]="isMenuOpen()">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <ul class="nav-menu" [class.active]="isMenuOpen()">
      <li class="nav-item">
        <a routerLink="/home" routerLinkActive="active" (click)="closeMenu()">Home</a>
      </li>
      <li class="nav-item">
        <a routerLink="/products" routerLinkActive="active" (click)="closeMenu()">Products</a>
      </li>
      <li class="nav-item">
        <a routerLink="/about" routerLinkActive="active" (click)="closeMenu()">About Us</a>
      </li>

      <!-- Cart Link -->
      <li class="nav-item cart-nav">
        <a routerLink="/cart" routerLinkActive="active" (click)="closeMenu()" class="cart-link">
          <span class="cart-icon">🛒</span>
          <span class="cart-text">Cart</span>
          <span class="cart-badge" *ngIf="!cartService.isEmpty()">
            {{ cartService.itemCount() }}
          </span>
        </a>
      </li>

      <!-- Show Orders link if user is authenticated -->
      <li class="nav-item" *ngIf="authService.isAuthenticated()">
        <a routerLink="/orders" routerLinkActive="active" (click)="closeMenu()">My Orders</a>
      </li>

      <!-- Show Admin Panel if user is admin -->
      <li class="nav-item" *ngIf="authService.isAdmin()">
        <a routerLink="/admin" routerLinkActive="active" (click)="closeMenu()">Admin Panel</a>
      </li>

      <!-- Authentication Links -->
      <ng-container *ngIf="!authService.isAuthenticated(); else authenticatedMenu">
        <li class="nav-item">
          <a routerLink="/login" routerLinkActive="active" (click)="closeMenu()">Login</a>
        </li>
        <li class="nav-item">
          <a routerLink="/register" routerLinkActive="active" (click)="closeMenu()">Register</a>
        </li>
      </ng-container>

      <!-- Authenticated User Menu -->
      <ng-template #authenticatedMenu>
        <li class="nav-item dropdown">
          <div class="user-dropdown">
            <button class="user-btn" (click)="toggleMenu()">
              <div class="user-avatar">{{ getUserInitials() }}</div>
              <span class="user-name">{{ authService.currentUser()?.name }}</span>
              <span class="dropdown-arrow">▼</span>
            </button>
            <div class="dropdown-menu" [class.active]="isMenuOpen()">
              <a routerLink="/profile" (click)="closeMenu()">
                <span class="dropdown-icon">👤</span>
                Profile
              </a>
              <a routerLink="/orders" (click)="closeMenu()">
                <span class="dropdown-icon">📦</span>
                My Orders
              </a>
              <button class="dropdown-item logout-btn" (click)="logout()">
                <span class="dropdown-icon">🚪</span>
                Sign Out
              </button>
            </div>
          </div>
        </li>
      </ng-template>
    </ul>
  </div>
</nav>

<main class="main-content">
  <router-outlet></router-outlet>
</main>

<footer class="footer">
  <div class="footer-content">
    <div class="footer-section">
      <h3>BakeHouse</h3>
      <p>Freshly baked goods, delivered with love.</p>
    </div>
    <div class="footer-section">
      <h4>Quick Links</h4>
      <ul>
        <li><a routerLink="/home">Home</a></li>
        <li><a routerLink="/products">Products</a></li>
        <li><a routerLink="/about">About Us</a></li>
        <li><a routerLink="/cart">Shopping Cart</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Contact Info</h4>
      <p>📞 (555) 123-BAKE</p>
      <p>📧 hello@bakehouse.com</p>
      <p>📍 123 Baker Street, Sweet City</p>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 BakeHouse. All rights reserved.</p>
  </div>
</footer>
